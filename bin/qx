#!/usr/bin/env python3
import os
import sys
import runpy

def main():
    # Get the absolute path of the directory containing this script (bin/)
    script_dir = os.path.dirname(os.path.abspath(__file__))
    # Get the project root directory (one level up from bin/)
    project_root = os.path.dirname(script_dir)
    # Construct the path to the src directory
    src_dir = os.path.join(project_root, 'src')

    # Add project_root to the Python path to allow imports like 'from src.core import ...'
    # and also src_dir for direct imports from main.py if it expects 'import core'
    sys.path.insert(0, project_root)
    sys.path.insert(1, src_dir) # Insert after project_root

    # Path to the main module/script
    # main.py is inside the src directory
    main_script_path = os.path.join(src_dir, 'main.py')

    # Set necessary environment variables or configurations if needed
    # For example, if main.py relies on being in a specific CWD:
    # os.chdir(project_root)

    # runpy.run_path executes the code in a module-like environment.
    # It sets __name__ to '__main__', __file__ to main_script_path, etc.
    runpy.run_path(main_script_path, run_name="__main__")

if __name__ == "__main__":
    main()