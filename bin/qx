#!/usr/bin/env bash

# Exit immediately if a command exits with a non-zero status.
set -e

# Get the directory where this script is located.
# This ensures that the script can be run from anywhere.
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd)"

# The project root is assumed to be the parent directory of the SCRIPT_DIR.
# (e.g., if script is in project_root/bin/, then project_root is ../)
PROJECT_ROOT="$(dirname "$SCRIPT_DIR")"

# Change to the project root directory. This is important for relative paths in the Python code
# and for uv to find the pyproject.toml.
cd "$PROJECT_ROOT"

# Execute the main QX application using 'uv run'.
# 'uv run' executes a command within the project's virtual environment.
# 'python src/main.py' is the command to start the application.
# '"$@"' passes all command-line arguments received by this script to main.py.
uv run python src/main.py "$@"